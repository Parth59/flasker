{% extends "base.html" %}

{% block content %}

{% if password %}
<form method="POST">
    <h2>This pastebin is private, please enter the password</h2>
    <div class="form-group">
        <label for="password">Password</label>
        <input type="password" class="form-control" id="password" name="password" placeholder="Enter password" />
    </div>
    <div>
        <button type="submit" class="btn btn-primary mt-2">Enter</button>
    </div>
</form>
{% else %}

<h1 class="display-5 text-break">Name: {{ pastebin.title }} </h1>
<span class="badge bg-success">{{ pastebin.paste_type }}</span>
<small>Created on: {{ pastebin.date }}</small>
{% if pastebin.expire_date %}
<small id="expire_date">This pastebin will expire in: {{ pastebin.expire_date - time }}</small>
{% endif %}
<pre class="mt-2"><code class= "{{ pastebin.paste_type }}" id="pastebin">{{ pastebin.content }}</code></pre>
<button id="copy-all" class="btn btn-primary">Copy all</button>
<form class="pastebin_button_form" action="/raw/{{ pastebin.link }}">
    <button id="raw" class="btn btn-primary">Raw</button>
</form>
<form class="pastebin_button_form" action="/download/{{ pastebin.link }}">
    <button id="download" class="btn btn-primary">Download</button>
</form>
{% if user.id == pastebin.user_id %}
<form class="pastebin_button_form" action="/delete/{{ pastebin.link }}">
    <button class="btn btn-danger">Delete</button>
</form>
{% endif %}
<script type="text/javascript" src="{{ url_for('static',filename='js/copy_all.js') }}"></script>
{% endif %}
<!-- highlight.js -->
<script src="//unpkg.com/@highlightjs/cdn-assets@10.7.2/highlight.min.js"></script>
<script>
    hljs.highlightAll();
</script>
{% endblock %}
